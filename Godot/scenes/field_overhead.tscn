[gd_scene load_steps=12 format=2]

[ext_resource path="res://scripts/field_overhead.gd" type="Script" id=1]
[ext_resource path="res://assets/images/overhead-view4.jpg" type="Texture" id=2]
[ext_resource path="res://scenes/instanced/ball.tscn" type="PackedScene" id=3]
[ext_resource path="res://assets/sound/hit.wav" type="AudioStream" id=4]
[ext_resource path="res://scenes/actors/fielder.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/raw/stadiums/homeplate.png" type="Texture" id=10]
[ext_resource path="res://scenes/triggers/base.tscn" type="PackedScene" id=11]
[ext_resource path="res://assets/raw/batter/runner.png" type="Texture" id=12]
[ext_resource path="res://scenes/ui/ui_overhead.tscn" type="PackedScene" id=13]

[sub_resource type="PhysicsMaterial" id=1]
friction = 2.0
bounce = 0.005

[sub_resource type="Curve2D" id=2]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, 516.509, 423.16, -61.8011, 167.315, 61.8011, -167.315, 1306.4, -374.12, 137.168, -12.0588, -137.168, 12.0588, 495.828, -1095.86, 42.2057, -161.286, -42.2057, 161.286, -255.527, -411.133, 0, 0, 0, 0, 488.078, 415.406 )
}

[node name="OverheadView" type="Node2D"]
script = ExtResource( 1 )

[node name="cam-main" type="Camera2D" parent="."]
position = Vector2( 506.329, 551.197 )
current = true
zoom = Vector2( 2, 2 )
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = true
smoothing_speed = 3.0
drag_margin_left = 0.55
drag_margin_top = 0.15
drag_margin_right = 0.55
drag_margin_bottom = 0.15

[node name="uiCamera" type="Camera2D" parent="."]
position = Vector2( 679.607, -922.24 )
zoom = Vector2( 1.5, 1.5 )

[node name="tween" type="Tween" parent="."]

[node name="field_bg" type="Sprite" parent="."]
position = Vector2( 443.029, -842.642 )
scale = Vector2( 1.44397, 1.49537 )
texture = ExtResource( 2 )
__meta__ = {
"_edit_lock_": true
}

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 4 )
autoplay = true

[node name="field" type="Node" parent="."]

[node name="field_areas" type="StaticBody2D" parent="field"]
visible = false
collision_layer = 0
collision_mask = 0

[node name="foul_area_fence" type="CollisionPolygon2D" parent="field/field_areas"]
position = Vector2( -383.876, -284.596 )
rotation = 0.409826
scale = Vector2( 1, 2.5 )
polygon = PoolVector2Array( -1154.8, -172.271, -1079.23, -163.314, -708.884, -106.182, 854.525, 122.936, 1051.43, 86.0364, 1170.49, 68.0308, 1255.94, 54.0765, 1797.42, -468.371, 2088.12, -737.981, 2049.77, -759.004, 2206.94, -763.964, 1898.88, -444.26, 1613.35, 64.5565, 1383.08, 193.971, 1101.05, 242.979, 594.472, 239.574, -744.14, -83.0641, -1230.93, -164.14 )
disabled = true
__meta__ = {
"_edit_lock_": true
}

[node name="field_borders" type="StaticBody2D" parent="field"]
visible = false
collision_layer = 16
collision_mask = 32

[node name="player_border" type="CollisionPolygon2D" parent="field/field_borders"]
visible = false
polygon = PoolVector2Array( -1202.69, -1139.06, -1325.86, -800.967, -400.997, 274.977, -115.973, 518.99, 84.9797, 699.437, 193.658, 769.156, 733.397, 771.101, 966.2, 767.376, 1101.29, 600.821, 1332.62, 328.782, 1631.78, -73.1607, 2232.02, -979.598, 2209.81, -1146.15, 1991.44, -1527.38, 1841.54, -1727.24, 1612.06, -1916.01, 1281.8, -2104.77, 808.435, -2246.98, 280.525, -2262.56, -27.2599, -2208.02, -473.354, -2003.48, -664.258, -1898.29, -851.267, -1721.02, -1071.39, -1438.56, -1178.53, -1152.2, -1217.07, -1199.58, -1100.19, -1484.6, -917.694, -1775.78, -740.582, -1956.27, -545.858, -2092.27, -66.7766, -2339.54, 217.581, -2407.54, 857.387, -2395.17, 1348.83, -2246.81, 1673.37, -2042.82, 1926.82, -1845, 2078.27, -1625.55, 2418.93, -1149.85, 1910.01, -461.428, 1676.83, 16.029, 1386.29, 412.059, 1317.82, 789.583, 752.299, 813.125, 418.487, 810.035, 72.6765, 787.61, -159.034, 549.748, -472.766, 285.229, -1375.78, -795.095, -1241.03, -1164.6, -1217.91, -1197.59 )
__meta__ = {
"_edit_lock_": true
}

[node name="game_border" type="CollisionPolygon2D" parent="field/field_borders"]
visible = false
position = Vector2( 559.704, -59.7742 )
scale = Vector2( 48.84, 42.32 )
polygon = PoolVector2Array( -24.9067, 33.3736, -27.8347, 35.4011, 31.7785, 33.2385, 64.6886, -54.7519, 43.7245, -69.3493, -2.88851, -72.0526, -39.4294, -70.0252, -60.5106, -54.3464, -39.8978, 32.833, -28.6545, 35.4011, -37.7897, 27.9672, -58.9881, -53.8057, -38.8438, -68.4032, -3.00563, -70.2955, 43.6074, -67.4571, 63.4003, -54.3464, 30.6073, 32.022 )
__meta__ = {
"_edit_lock_": true
}

[node name="field_obstacles" type="StaticBody2D" parent="field"]
visible = false
collision_layer = 2
physics_material_override = SubResource( 1 )

[node name="outfield_fence" type="CollisionPolygon2D" parent="field/field_obstacles"]
visible = false
position = Vector2( -383.876, -284.596 )
rotation = 0.409826
scale = Vector2( 1, 2.5 )
polygon = PoolVector2Array( -1143.23, -203.223, -1123.39, -335.3, -1031.97, -464.275, -902.269, -565.095, -575.879, -726.189, -174.152, -842.386, 311.575, -919.06, 770.138, -945.106, 1084.87, -931.178, 1504.1, -889.987, 1850.58, -802.328, 2113.61, -721.429, 2082.09, -693.724, 1808.91, -783.972, 1460.57, -868.892, 1059.63, -913.262, 784.258, -920.982, 325.037, -901.104, -153.71, -824.677, -540.993, -705.19, -864.817, -548.408, -973.259, -458.047, -1067.34, -335.033, -1054.74, -158.516 )
disabled = true
__meta__ = {
"_edit_lock_": true
}

[node name="spray_chart" type="Node2D" parent="field"]
visible = false
__meta__ = {
"_edit_lock_": true
}

[node name="foul_area" type="Area2D" parent="field/spray_chart"]
modulate = Color( 1, 1, 1, 0.4 )
monitorable = false
collision_layer = 0
collision_mask = 512

[node name="foul" type="CollisionPolygon2D" parent="field/spray_chart/foul_area"]
polygon = PoolVector2Array( 519.715, 332.476, 286.768, 335.734, -5609.35, -5172.9, -4312.37, 3449.21, 6478.53, 3672.06, 6543.11, -5154.29, 700.534, 339.807, 574.287, 333.291 )
disabled = true

[node name="right_field_area" type="Area2D" parent="field/spray_chart"]
visible = false
collision_layer = 0
collision_mask = 512

[node name="right_field" type="CollisionPolygon2D" parent="field/spray_chart/right_field_area"]
build_mode = 1
polygon = PoolVector2Array( 574.099, 329.589, 504.275, -2260.15, 882.802, -2234.91, 1542.52, -1968.14, 2223.87, -1117.36, 697.741, 330.492 )
disabled = true

[node name="left_field_area" type="Area2D" parent="field/spray_chart"]
visible = false
collision_layer = 0
collision_mask = 512

[node name="left_field" type="CollisionPolygon2D" parent="field/spray_chart/left_field_area"]
polygon = PoolVector2Array( 515.39, 318.272, 503.411, -2252, 201.309, -2252, -153.793, -2148.65, -601.646, -1907.5, -910.269, -1661.81, -1204.32, -1080.31, 283.881, 332.91 )
disabled = true
__meta__ = {
"_edit_lock_": true
}

[node name="center_field_area" type="Area2D" parent="field/spray_chart"]
visible = false
collision_layer = 0
collision_mask = 512

[node name="center_field" type="CollisionPolygon2D" parent="field/spray_chart/center_field_area"]
visible = false
polygon = PoolVector2Array( 522.86, 326.324, -485.548, -1980.81, 53.7413, -2226.88, 867.802, -2235.08, 1421.45, -2032.08, 570.759, 326.324 )
disabled = true
__meta__ = {
"_edit_lock_": true
}

[node name="home_run_area" type="Area2D" parent="field/spray_chart"]
visible = false
monitorable = false
collision_layer = 0
collision_mask = 512

[node name="home_run" type="CollisionPolygon2D" parent="field/spray_chart/home_run_area"]
polygon = PoolVector2Array( -1169.7, -1304.93, -5708.15, -5476.74, 6466.8, -5289.07, 2291.48, -1335.91, 1943.32, -1856.49, 1308.89, -2278.66, 857.433, -2407.02, 268.766, -2407.02, -195.97, -2300.79, -647.429, -2035.23, -930.697, -1765.24 )

[node name="outfield" type="Area2D" parent="field/spray_chart"]
visible = false
collision_layer = 0
collision_mask = 512

[node name="outfield" type="CollisionPolygon2D" parent="field/spray_chart/outfield"]
polygon = PoolVector2Array( -711.562, -524.042, -399.988, -983.414, -8.52283, -1306.97, 370.958, -1422.81, 806.363, -1410.83, 1249.76, -1207.11, 1533.37, -955.452, 1828.97, -484.096, 2376.22, -1031.35, 2076.63, -1526.67, 1884.89, -1778.33, 1565.33, -2061.94, 1289.7, -2205.74, 826.336, -2333.57, 303.051, -2341.56, 63.3789, -2301.61, -248.195, -2185.77, -647.649, -1958.08, -887.321, -1706.43, -1035.12, -1470.75, -1214.87, -1003.39 )
disabled = true

[node name="infield" type="Area2D" parent="field/spray_chart"]
visible = false
collision_layer = 0
collision_mask = 512

[node name="infield" type="CollisionPolygon2D" parent="field/spray_chart/infield"]
polygon = PoolVector2Array( -567.758, -687.818, -447.922, -923.495, -132.354, -1227.08, 243.133, -1406.83, 670.549, -1430.8, 1066.01, -1322.95, 1469.46, -1047.33, 1705.13, -695.807, 746.445, 194.975, 327.018, 190.981 )
disabled = true

[node name="triggers" type="Node" parent="field"]

[node name="base_1" parent="field/triggers" instance=ExtResource( 11 )]
position = Vector2( 1303, -355 )

[node name="base_2" parent="field/triggers" instance=ExtResource( 11 )]
position = Vector2( 492, -1078 )

[node name="base_3" parent="field/triggers" instance=ExtResource( 11 )]
position = Vector2( -263, -401 )

[node name="home_plate" type="Node2D" parent="field/triggers"]

[node name="home_plate" type="Sprite" parent="field/triggers/home_plate"]
position = Vector2( 501.185, 442.501 )
scale = Vector2( 0.5, 0.5 )
texture = ExtResource( 10 )

[node name="ui_canvas" type="CanvasLayer" parent="field"]
layer = 2

[node name="ui" parent="field/ui_canvas" instance=ExtResource( 13 )]
light_mask = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -512.0
margin_top = -300.0
margin_right = 512.0
margin_bottom = 300.0

[node name="ball" parent="field" instance=ExtResource( 3 )]
position = Vector2( 503.806, 407.99 )

[node name="defense" type="Node" parent="."]

[node name="fielder_1" parent="defense" groups=[
"fielders",
] instance=ExtResource( 6 )]
position = Vector2( 493.74, -270.095 )

[node name="fielder_2" parent="defense" groups=[
"fielders",
] instance=ExtResource( 6 )]
position = Vector2( 508.373, 549.175 )

[node name="fielder_3" parent="defense" groups=[
"fielders",
"infield",
] instance=ExtResource( 6 )]
position = Vector2( 1169.23, -447.74 )

[node name="fielder_4" parent="defense" groups=[
"fielders",
"infield",
] instance=ExtResource( 6 )]
position = Vector2( 769.237, -1020.89 )

[node name="fielder_5" parent="defense" groups=[
"fielders",
"infield",
] instance=ExtResource( 6 )]
position = Vector2( -261.032, -548.242 )

[node name="fielder_6" parent="defense" groups=[
"fielders",
"infield",
] instance=ExtResource( 6 )]
position = Vector2( 5.73787, -861.203 )

[node name="fielder_7" parent="defense" groups=[
"fielders",
"outfield",
] instance=ExtResource( 6 )]
position = Vector2( -793.04, -1169.62 )

[node name="fielder_8" parent="defense" groups=[
"fielders",
"outfield",
] instance=ExtResource( 6 )]
position = Vector2( 504.472, -1953.82 )

[node name="fielder_9" parent="defense" groups=[
"fielders",
"outfield",
] instance=ExtResource( 6 )]
position = Vector2( 1739.13, -1310.21 )

[node name="offense" type="Node" parent="."]

[node name="basepath" type="Path2D" parent="offense"]
position = Vector2( 0, 7.53674 )
curve = SubResource( 2 )

[node name="runners_path" type="PathFollow2D" parent="offense/basepath"]
position = Vector2( 516.509, 423.16 )
rotation = -1.32176
rotate = false
loop = false

[node name="baserunner" type="Sprite" parent="offense/basepath/runners_path"]
position = Vector2( 34.0833, -18.2257 )
rotation = 0.524373
scale = Vector2( 0.3, 0.3 )
texture = ExtResource( 12 )
